#!/bin/bash
setup() {
    (./gdown.pl/gdown.pl $1 $2) &> /dev/null
    tar -xzf $2
    rm $2
}

echo "Installing python module dependencies. Ensure you have pip or pip3 installed on your system"
pip install prettytable --user -qq # Dependencies for python
pip3 install prettytable --user -qq # Dependencies for python3

echo "Initializing download utility"
(git clone https://github.com/circulosmeos/gdown.pl.git) &> /dev/null

echo "Installing and extracting Groovy dataset"
(setup 'https://drive.google.com/open?id=1FhvYSgZ590Nkt36wbgsCFEb2lupXMov-' 'groovy.tar.gz')&
proc1=$!

echo "Installing and extracting Kotlin dataset"
(setup 'https://drive.google.com/open?id=1riiU-nfhcc0A6jX0dD5dLL2tcE4pKyzx' 'kotlin.tar.gz')&
proc2=$!

wait $proc1
wait $proc2

rm -rf gdown.pl
echo "Installation Completed!"
